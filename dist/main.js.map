{"version":3,"sources":["webpack://todo/./src/item.js","webpack://todo/./src/context.js","webpack://todo/./src/todoController.js","webpack://todo/./src/todoDisplay.js","webpack://todo/./src/task.js","webpack://todo/./src/contextList.js"],"names":["Item","text","this","id","countInstances","count","Context","super","taskList","active","task","push","foundIndex","findIndex","taskToCompare","splice","taskId","taskIndexInList","getIndexOfTask","parseInt","currentTask","TodoDisplay","Task","ContextList","contextList","todoDisplay","init","_this","onClickAddContext","bind","onClickAddTask","onClickDeleteContext","onClickChangeContext","onDclickEditItem","onEnterSaveInput","onMsDwnCopyTask","onMsUpAnalyzePosition","event","initListeners","loadStartPage","userInput","getContextInputValue","createNewContext","getTaskInputValue","createNewTask","activeContext","getActiveContext","contexts","getAllContexts","renderAllContexts","appendTask","appendNewTask","context","addNewContext","appendNewContext","elementToDelete","getElementToDelete","itemToDeleteId","getItemId","deleteContext","removeElement","stopPropagation","elementWithHandler","clickedContextElementId","clickedContext","getContext","setActiveContext","tasks","renderTasks","highlightActiveContext","prepareItemEdit","target","key","input","getUserInput","itemElement","getItemElement","itemId","className","getClassName","contains","contextIndex","getIndexOfContext","list","update","taskIndex","updateItemAfterEdit","attachTaskToMouse","classList","taskToMoveElement","temporarySavedTaskElement","taskToMoveId","taskToMove","getTask","chosenContextElementId","deleteTask","undoTaskMoveActions","bodyElement","document","querySelector","contextContainer","getElementById","contextInput","contextButton","taskContainer","taskInput","taskButton","onDclickEditContext","addEventListener","forEach","delBtn","createDelBtn","innerContent","createInnerContent","contextElement","createItemElement","appendChild","element","style","border","innerHTML","taskElement","add","para","createElement","dataset","itemid","deleteButton","span","textElement","inputBox","createInputBox","saveItemElements","createEditableElement","placeHolder","firstChild","textContent","type","placeholder","itemElements","parentNode","remove","taskElementCopy","createTaskCopy","moveTaskWithMouse","querySelectorAll","onMsOverHighlight","onMsOutNormal","backgroundColor","cloneNode","mousePositionHorizontal","x","mousePositionVertical","y","position","top","left","removeTaskCopy","removeEventListener","value","favorite","defaultContext","contextId","contextListIndex","contextIndexInList","currentContext"],"mappings":"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","file":"main.js","sourcesContent":["// Is used by Task and Context to inherit properties and methods\nclass Item {\n  constructor (text) {\n    this.text = text\n    this.id = Item.countInstances()\n  }\n\n  static countInstances () {\n    Item.count = (Item.count || 0) + 1\n    return Item.count\n  }\n}\n\nexport { Item }\n","import { Item } from './item'\n\n// Creates unlimited context objects with the ability to add and delete tasks\nclass Context extends Item {\n  constructor (text) {\n    super(text)\n    this.taskList = []\n    this.active = true\n  }\n\n  appendTask (task) {\n    this.taskList.push(task)\n  }\n\n  deleteTask (task) {\n    const isSameId = taskToCompare => taskToCompare.id === task.id\n    const foundIndex = this.taskList.findIndex(isSameId)\n    this.taskList.splice(foundIndex, 1)\n  }\n\n  getTask (taskId) {\n    const taskIndexInList = this.getIndexOfTask(taskId)\n    return this.taskList[taskIndexInList]\n  }\n\n  getIndexOfTask (taskId) {\n    taskId = parseInt(taskId)\n    const taskListIndex = this.taskList.findIndex(function (currentTask) {\n      if (currentTask.id === taskId) {\n        return true\n      }\n    })\n    return taskListIndex\n  }\n\n  update (text) {\n    this.text = text\n  }\n}\n\nexport { Context }\n","import { Task } from './task'\nimport { Context } from './context'\nimport { ContextList } from './contextList'\nimport { TodoDisplay } from './todoDisplay'\n\n// Handles all the todo App logic\nclass TodoController {\n  constructor (TodoDisplay, Task, Context, ContextList) {\n    this.Task = Task\n    this.Context = Context\n    this.contextList = new ContextList(this.Context)\n    this.todoDisplay = new TodoDisplay()\n\n    this.init()\n  }\n\n  init () {\n    const _this = this\n    this.todoDisplay.onClickAddContext = this.onClickAddContext.bind(this)\n    this.todoDisplay.onClickAddTask = this.onClickAddTask.bind(this)\n    // Writing conlickDeleteContext so, that following arguments are passed:\n    // this which equals TodoController object\n    // event of event Listener which isn't seen here\n    // but can be accessed as last parameter in onClickDeleteContext\n    this.todoDisplay.onClickDeleteContext = this.onClickDeleteContext.bind(null, this)\n    this.todoDisplay.onClickChangeContext = function () {\n      _this.onClickChangeContext(this, _this)\n    }\n    this.todoDisplay.onDclickEditItem = this.onDclickEditItem.bind(null, this)\n    this.todoDisplay.onEnterSaveInput = this.onEnterSaveInput.bind(null, this)\n    this.todoDisplay.onMsDwnCopyTask = function () {\n      _this.onMsDwnCopyTask(this, _this)\n    }\n    this.todoDisplay.onMsUpAnalyzePosition = function (event) {\n      _this.onMsUpAnalyzePosition(event, this, _this)\n    }\n    this.todoDisplay.initListeners()\n    this.loadStartPage()\n  }\n\n  onClickAddContext () {\n    const userInput = this.todoDisplay.getContextInputValue()\n    this.createNewContext(userInput)\n  }\n\n  onClickAddTask () {\n    const userInput = this.todoDisplay.getTaskInputValue()\n    this.createNewTask(userInput)\n  }\n\n  loadStartPage () {\n    this.activeContext = this.contextList.getActiveContext()\n    const contexts = this.contextList.getAllContexts()\n    this.todoDisplay.renderAllContexts(contexts, this.activeContext)\n  }\n\n  createNewTask (text) {\n    const task = new this.Task(text)\n    this.contextList.getActiveContext().appendTask(task)\n    this.todoDisplay.appendNewTask(task)\n  }\n\n  createNewContext (text) {\n    const context = new this.Context(text)\n    context.onClickChangeContext = this.onClickChangeContext\n    this.contextList.addNewContext(context)\n    this.todoDisplay.appendNewContext(context)\n  }\n\n  onClickDeleteContext (_this, event) {\n    const elementToDelete = _this.todoDisplay.getElementToDelete(event)\n    const itemToDeleteId = _this.todoDisplay.getItemId(elementToDelete)\n    _this.contextList.deleteContext(itemToDeleteId)\n    _this.todoDisplay.removeElement(elementToDelete)\n    // Prevent bubbling of event up to onClickChangeContext Listener\n    event.stopPropagation()\n  }\n\n  onClickChangeContext (elementWithHandler, _this) {\n    const clickedContextElementId = _this.todoDisplay.getItemId(elementWithHandler)\n    const clickedContext = _this.contextList.getContext(clickedContextElementId)\n    // Change active Context\n    this.contextList.setActiveContext(clickedContext)\n    // Display Tasks of active Context\n    const tasks = clickedContext.taskList\n    this.todoDisplay.renderTasks(tasks)\n    // Highlight active Context\n    this.todoDisplay.highlightActiveContext(elementWithHandler)\n  }\n\n  onDclickEditItem (_this, event) {\n    _this.todoDisplay.prepareItemEdit(event.target)\n  }\n\n  onEnterSaveInput (_this, event) {\n    if (event.key === 'Enter') {\n      const input = _this.todoDisplay.getUserInput(event)\n      const itemElement = _this.todoDisplay.getItemElement(event)\n      const itemId = _this.todoDisplay.getItemId(itemElement)\n      const className = _this.todoDisplay.getClassName(itemElement)\n\n      if (className.contains('context')) {\n        const contextIndex = _this.contextList.getIndexOfContext(itemId)\n        _this.contextList.list[contextIndex].update(input)\n      } else if (className.contains('task')) {\n        const taskIndex = _this.contextList.activeContext.getIndexOfTask(itemId)\n        // For Line below should be implemented a setter method in Context\n        _this.contextList.activeContext.taskList[taskIndex].text = input\n      }\n      _this.todoDisplay.updateItemAfterEdit(itemElement, input)\n    }\n  }\n\n  // Soll das wirklich hier rein? Nicht besser direkt in todoDisplay,\n  // nur eine Methode von todoDisplay aufgerufen wird?!!\n  onMsDwnCopyTask (elementWithHandler, _this) {\n    _this.todoDisplay.attachTaskToMouse(elementWithHandler)\n  }\n\n  onMsUpAnalyzePosition (event, elementWithHandler, _this) {\n    if (elementWithHandler.classList.contains('context')) {\n      const activeContext = _this.contextList.getActiveContext()\n      const taskToMoveElement = _this.todoDisplay.temporarySavedTaskElement\n      const taskToMoveId = _this.todoDisplay.getItemId(taskToMoveElement)\n      const taskToMove = _this.contextList.activeContext.getTask(taskToMoveId)\n      const chosenContextElementId = _this.todoDisplay.getItemId(elementWithHandler)\n      const chosenContext = _this.contextList.getContext(chosenContextElementId)\n\n      chosenContext.appendTask(taskToMove)\n      activeContext.deleteTask(taskToMove)\n      _this.todoDisplay.removeElement(taskToMoveElement)\n      // Prevents executing the mouseup event which is also attached to body\n      event.stopPropagation()\n    }\n\n    _this.todoDisplay.undoTaskMoveActions()\n  }\n\n  removeTask (task) {\n    this.contextList.getActiveContext().deleteTask(task)\n    // remove this task from current View\n  }\n}\n\nconst todoController = new TodoController(TodoDisplay, Task, Context, ContextList)\n\nexport { todoController }\n","// Creates the right view of the current state of objects\nclass TodoDisplay {\n  constructor () {\n    this.bodyElement = document.querySelector('body')\n    this.contextContainer = document.getElementById('context-container')\n    this.contextInput = document.getElementById('context-input')\n    this.contextButton = document.getElementById('context-add')\n    this.taskContainer = document.getElementById('task-container')\n    this.taskList = document.getElementById('tasks')\n    this.taskInput = document.getElementById('task-input')\n    this.taskButton = document.getElementById('task-add-button')\n    this.activeContext = null\n\n    this.onClickAddContext = null\n    this.onClickDeleteContext = null\n    this.onClickChangeContext = null\n    this.onDclickEditContext = null\n    this.onEnterSaveInput = null\n\n    this.onClickAddTask = null\n    this.onMsDwnCopyTask = null\n    this.onMsUpAnalyzePosition = null\n  }\n\n  initListeners () {\n    this.contextButton.addEventListener('click', this.onClickAddContext)\n    this.taskButton.addEventListener('click', this.onClickAddTask)\n  }\n\n  renderAllContexts (contexts, activeContext) {\n    // Render context elements\n    contexts.forEach(this.appendNewContext.bind(this))\n    // Highlight active context element\n    this.activeContext = document.querySelector(`[data-itemid=\"${activeContext.id}\"]`)\n    this.highlightActiveContext(this.activeContext)\n  }\n\n  appendNewContext (context) {\n    const delBtn = this.createDelBtn()\n    const innerContent = this.createInnerContent(context.text, delBtn)\n    const className = 'context'\n    const contextElement = this.createItemElement(context.id, innerContent, className)\n    contextElement.addEventListener('click', this.onClickChangeContext)\n    this.contextContainer.appendChild(contextElement)\n  }\n\n  highlightActiveContext (element) {\n    this.activeContext.style.border = 'none'\n    this.activeContext = element\n    element.style.border = '1px solid black'\n  }\n\n  renderTasks (tasks) {\n    this.taskList.innerHTML = ''\n    tasks.forEach(this.appendNewTask.bind(this))\n  }\n\n  appendNewTask (task) {\n    const delBtn = this.createDelBtn()\n    const innerContent = this.createInnerContent(task.text, delBtn)\n    const className = 'task'\n    const taskElement = this.createItemElement(task.id, innerContent, className)\n    taskElement.classList.add('task') // Better extra Method\n    taskElement.addEventListener('mousedown', this.onMsDwnCopyTask)\n    this.taskList.appendChild(taskElement)\n  }\n\n  /* Helper functions to create Task or Context:\n  createItemElement, createDelBtn, createInnerContent */\n\n  createItemElement (id, innerContent, className) {\n    const para = document.createElement('p')\n    para.dataset.itemid = id\n    para.classList.add(className)\n    para.addEventListener('dblclick', this.onDclickEditItem)\n    para.appendChild(innerContent)\n    return para\n  }\n\n  createDelBtn () {\n    const deleteButton = document.createElement('i')\n    deleteButton.classList.add('fa')\n    deleteButton.classList.add('fa-trash-o')\n    deleteButton.addEventListener('click', this.onClickDeleteContext)\n    return deleteButton\n  }\n\n  createInnerContent (text, delBtn) {\n    // Here you could create an extra method to separate span\n    const innerContent = document.createElement('div')\n    const span = document.createElement('span')\n    span.innerHTML = text\n    innerContent.appendChild(span)\n    innerContent.appendChild(delBtn)\n    return innerContent\n  }\n\n  /* Edit functions: prepareItemEdit, createInputBox,\n  saveItemElements, createEditableElement, updateItemAfterEdit */\n\n  prepareItemEdit (textElement) {\n    const inputBox = this.createInputBox(textElement)\n    this.saveItemElements(textElement)\n    this.createEditableElement(inputBox)\n  }\n\n  createInputBox (textElement) {\n    const inputBox = document.createElement('input')\n    const placeHolder = textElement.firstChild.textContent\n    inputBox.type = 'text'\n    inputBox.placeholder = placeHolder\n    inputBox.addEventListener('keyup', this.onEnterSaveInput)\n    return inputBox\n  }\n\n  saveItemElements (textElement) {\n    this.itemElements = textElement.parentNode\n  }\n\n  createEditableElement (inputBox) {\n    const para = this.itemElements.parentNode\n    para.firstChild.remove()\n    para.appendChild(inputBox)\n  }\n\n  updateItemAfterEdit (para, text) {\n    this.itemElements.firstChild.innerHTML = text\n    // Remove inputBox\n    para.firstChild.remove()\n    // Append updated Text and Delete Button\n    para.appendChild(this.itemElements)\n  }\n\n  /* Move task to other context functions: attachTasktoMouse, onMsOverHighlight, onMsOutNormal\n  createTaskCopy, moveTaskWithMouse, removeTaskCopy, undoTaskMoveActions */\n\n  attachTaskToMouse (elementWithHandler) {\n    const taskElementCopy = this.createTaskCopy(elementWithHandler)\n\n    // Append mousemovement listener for moving the task with mouse\n    this.bodyElement.addEventListener('mousemove',\n      this.moveTaskWithMouse.bind(null, this, taskElementCopy))\n\n    // Append mouseup listener to whole page\n    this.bodyElement.addEventListener('mouseup', this.onMsUpAnalyzePosition)\n\n    // Add mousehover event Listener to every context element\n    const contexts = document.querySelectorAll('.context')\n    const _this = this\n    contexts.forEach(function (element) {\n      element.addEventListener('mouseover', _this.onMsOverHighlight)\n      element.addEventListener('mouseout', _this.onMsOutNormal)\n      element.addEventListener('mouseup', _this.onMsUpAnalyzePosition)\n    })\n  }\n\n  onMsOverHighlight () {\n    this.style.backgroundColor = 'green'\n  }\n\n  onMsOutNormal () {\n    this.style.backgroundColor = 'aqua'\n  }\n\n  createTaskCopy (elementWithHandler) {\n    this.temporarySavedTaskElement = elementWithHandler\n    const taskElementCopy = this.temporarySavedTaskElement.cloneNode(true)\n    taskElementCopy.style.backgroundColor = 'red'\n    taskElementCopy.id = 'task-copy'\n    this.bodyElement.appendChild(taskElementCopy)\n    return taskElementCopy\n  }\n\n  moveTaskWithMouse (_this, taskElementCopy, event) {\n    // Put copy at specified position\n    const mousePositionHorizontal = event.x\n    const mousePositionVertical = event.y\n    taskElementCopy.style.position = 'absolute'\n    taskElementCopy.style.top = `${mousePositionVertical}px`\n    taskElementCopy.style.left = `${mousePositionHorizontal + 10}px`\n  }\n\n  removeTaskCopy () {\n    const taskElementCopy = document.getElementById('task-copy')\n    taskElementCopy.remove()\n  }\n\n  undoTaskMoveActions () {\n    this.removeTaskCopy()\n    this.bodyElement.removeEventListener('mouseup', this.onMsUpAnalyzePosition)\n\n    const contexts = document.querySelectorAll('.context')\n    const _this = this\n    contexts.forEach(function (element) {\n      element.removeEventListener('mouseover', _this.onMsOverHighlight)\n      element.removeEventListener('mouseout', _this.onMsOutNormal)\n      element.removeEventListener('mouseup', _this.onMsUpAnalyzePosition)\n      element.style.backgroundColor = 'aqua'\n    })\n  }\n\n  // Simple Helper functions\n\n  getItemId (element) {\n    return element.dataset.itemid\n  }\n\n  getItemElement (event) {\n    return event.target.parentNode\n  }\n\n  getContextInputValue () {\n    return this.contextInput.value\n  }\n\n  removeElement (element) {\n    element.remove()\n  }\n\n  getElementToDelete (event) {\n    return event.target.parentNode.parentNode\n  }\n\n  getTaskInputValue () {\n    return this.taskInput.value\n  }\n\n  getUserInput (event) {\n    return event.target.value\n  }\n\n  getClassName (element) {\n    return element.classList\n  }\n}\n\nexport { TodoDisplay }\n","import { Item } from './item'\n\n// Creates unlimited task objects\nclass Task extends Item {\n  constructor (text) {\n    super(text)\n    this.favorite = false\n  }\n}\n\nexport { Task }\n","import { Context } from './context'\n\n// Creates a single object where all contexts with their tasks are listed\nclass ContextList {\n  constructor (Context) {\n    this.Context = Context\n    this.list = []\n    this.init()\n  }\n\n  init () {\n    const defaultContext = new Context('inbox')\n    this.addNewContext(defaultContext)\n    this.setActiveContext(defaultContext)\n  }\n\n  addNewContext (context) {\n    this.list.push(context)\n  }\n\n  deleteContext (contextId) {\n    const contextListIndex = this.getIndexOfContext(contextId)\n    this.list.splice(contextListIndex, 1)\n  }\n\n  getContext (contextId) {\n    const contextIndexInList = this.getIndexOfContext(contextId)\n    return this.list[contextIndexInList]\n  }\n\n  getIndexOfContext (contextId) {\n    contextId = parseInt(contextId)\n    const contextListIndex = this.list.findIndex(function (currentContext) {\n      if (currentContext.id === contextId) {\n        return true\n      }\n    })\n    return contextListIndex\n  }\n\n  setActiveContext (context) {\n    this.activeContext = context\n  }\n\n  getActiveContext () {\n    return this.activeContext\n  }\n\n  getAllContexts () {\n    return this.list\n  }\n}\n\nexport { ContextList }\n"],"sourceRoot":""}